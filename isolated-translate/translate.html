<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>AI 极简翻译-小窗模式</title>
    <link rel="stylesheet" href="translate.css" />
  </head>
  <body>
    <div class="main-container">
      <div class="translate-container">
        <div class="source-text">
          <h3>原文 <span class="edit-hint">(可编辑)</span></h3>
          <textarea
            id="sourceContent"
            class="content"
            placeholder="在此输入或粘贴要翻译的文本"
          ></textarea>
        </div>
        <div class="translation-controls">
          <div class="language-select">
            <label for="targetLang">目标语言:</label>
            <select id="targetLang"></select>
            <input
              type="text"
              id="customLang"
              class="custom-lang"
              style="display: none"
            />
          </div>
          <button id="translateBtn">重新翻译</button>
        </div>
        <div class="translated-text">
          <h3>译文</h3>
          <div id="translatedContent" class="content">
            <div class="loading" style="display: none">翻译中...</div>
            <div class="result"></div>
          </div>
        </div>
      </div>
      <div class="history-container">
        <div class="history-toggle">
          <button id="toggleHistory" class="toggle-btn">
            <span class="toggle-icon">▶</span>
          </button>
        </div>
        <div class="history-content">
          <div class="history-header">
            <h3>历史记录</h3>
            <button id="clearHistory" class="clear-btn">清除全部</button>
          </div>
          <div class="history-list" id="historyList">
            <!-- 历史记录项会动态插入到这里 -->
          </div>
        </div>
      </div>
    </div>

    <!-- 先加载依赖服务 -->
    <script src="../content/utils/translation-service.js"></script>

    <!-- 最后加载主脚本 -->
    <script type="module" src="translate.js"></script>
  </body>
</html>
